\chapter*{Abstract}

Using games as part of physical therapy improves patient motivation to perform the necessary exercises. The developed application, called OmniPlay, allows physical therapists to choose exercises that fit the needs of the patients and record them using the Kinect 2.0 camera. When the patient executes an exercise, machine learning algorithms are used to recognize the exercise. This activates a Windows command that virtually presses the keyboard key the therapist assigned to that exercise. This makes it possible to interact with any available game relying on key inputs. The designed and implemented OmniPlay application records gestures and assigns a key to them, which is virtually pressed by the operating system when a gesture is executed and recognized. The games patients can play are not a part of this application.\\

Research is conducted on the subject of human-computer interaction (HCI) involving the use of the Kinect camera to interact with the OmniPlay in what is called a natural user interface (NUI). Several prototypes are designed that focus on different interaction principles and are divided into two categories: the mime pattern and the hints pattern. The chosen implemented prototype of the interface allows users to interact with the menus and items appearing on-screen without the use of traditional buttons. Interactive elements like pulling ropes are present in the interface, providing both feedforward and feedback to the user in an effort to simplify the interaction process. Additionally, to provide the user with a more streamlined interaction process, the number of times he must switch between inputting with the Kinect or with a mouse is minimized.\\

As part of the user-centered design approach, the interface is evaluated by conducting user tests with a physical therapist and other persons. Feedback is obtained both during the prototyping phase, as well as after having implemented the prototype. The results of these tests allow to conclude that it is not immediately clear how all elements are interacted with and that it takes more time to understand how interaction is possible. With a short explanation, it is possible to decrease the time required to achieve this. The application as a whole has a low learning curve as the focus on simplicity results in the user being familiar with all required actions after recording an exercise once.\\

%\underline{alternative abstract}

%Patients are often demotivated by pain or boredom during physical therapy and previous attempts at using motion controlled games to improve this worked, but had limited exercises and monotonous game play that proved to make it economically inviable. In this thesis a more versatile program is developed by using the kinect 2.0 3D-camera to allow a physical therapist to train a support vector machine (SVM) algorithm to recognize any exercise and link it to an action in any game that uses keyboard input. Though this thesis is more focused on the human-computer interaction (HCI) aspect of designing a user-friendly motion controlled natural user interface (NUI) for this program.\\

%For the development of the NUI several special paper-prototypes are designed that focus on different interaction principles. After user feedback a principle was chosen and further developed into a coded prototype that uses straight-forward interaction with good feedforward and feedback in an effort to streamline the interaction process. After a final user test, small changes to the prototype were applied. For the recognition of exercises a few choices had to be made about the processing of the input data.\\


%The final conclusion is that most users recognize the required interactions fairly quickly and are able to efficiently control it rapidly.Though there were some instances were the user expected a different reaction after an action. It was obvious that the application will need some additional information to teach the user how to record good exercices. During recognition several positions or movements can be distinguished with good accuracy. \\

\underline{Key words}: exergames, gesture recognition, Kinect 2.0, physical therapy, support vector machine, user interface


\chapter*{Extended abstract}

Kinesitherapie is vaak essentieel bij revalidatieprocessen of om de spieren te trainen voor mensen met lichamelijke beperkingen. Computerspellen kunnen deze sessies en bijhorende oefeningen aangenamer maken om uit te voeren en betekenen een belangrijke vorm van motivatie, in het bijzonder voor kinderen. Het probleem met deze spellen is dat ze duur zijn om te ontwikkelen en aan te kopen en dat de oefeningen dat een bepaald spel aanbiedt op voorhand vastliggen. Daarnaast is het voor kinderen eentonig om telkens hetzelfde spel te moeten spelen, ze daardoor snel hun interesse in het spel verliezen. Omwille van deze redenen zijn deze spellen niet altijd zinvol en effectief voor alle pati\"enten in het kader van de therapie.\\

De ontwikkelde applicatie, genaamd OmniPlay, biedt meer flexibiliteit en laat toe om reeds bestaande spellen te spelen door middel van bewegingen. OmniPlay is gericht op kinesisten en laat hen toe om bewegingsoefeningen op te nemen die zinvol zijn voor de pati\"ent. Het is dan mogelijk om naar eigen keuze een knop van het toetsenbord toe te kennen aan elke opgenomen oefening. Wanneer de pati\"ent vervolgens deze oefening uitvoert, herkent de toepassing deze beweging en wordt de knop die eraan toegekend is virtueel ingedrukt door Windows-commando's aan te roepen. Zo is het mogelijk om met bewegingen eender welk spel te spelen dat gebruik maakt van toetsenbordbediening.\\

De kinesist kan oefeningen opnemen met behulp van de Kinect 2.0-camera. De OmniPlay-applicatie gebruikt machine learning, meer specifiek support vector machines (SVM), om deze oefeningen aan te leren. Het ge\"implementeerde algoritme splitst elke beweging op in een aantal kleinere deelbewegingen en classificeert deze elk onder een ander label. Tijdens het spelen herkent het algoritme een beweging als alle deelbewegingen ervan zijn waargenomen in de juiste volgorde. Deze benadering laat toe om de rekenkost van bewegingsherkenning te beperken en zorgt voor de pati\"ent voor een betere reactietijd na het uitvoeren van een beweging.\\

Om bewegingen op te nemen, maakt de kinesist gebruik van de grafische gebruikersinterface. Hierbij is het de bedoeling dat de kinesist deze interface kan aansturen met behulp van de Kinect-camera, zonder herhaaldelijk te moeten wisselen tussen input met een computermuis en input via de Kinect. Interactie met de gebruikersinterface gebeurt door middel van interactieve elementen. Het is mogelijk om de interactieve elementen van de initi\"ele prototypes van de gebruikersinterface onder te verdelen volgens twee categorie\"en: mime-elementen en hints-elementen.\\

Mime omvat elementen die herkenbaar zijn uit het dagelijks leven, zoals handvaten en trekkoorden. Door een combinatie van herkenbaarheid en affordances heeft de gebruiker reeds een notie van hoe interactie mogelijk is door middel van deze metaforen, waardoor het leerproces minder groot is voor de gebruiker. Bijgevolg moet hij minder moeite doen om te onthouden hoe de interactie werkt. Hints-elementen verwachten handelingen van de gebruiker die meer abstracte gebaren omvatten en waarbij op voorhand aan de gebruiker moet uitgelegd worden wat de effecten zijn van een bepaald gebaar en waar deze gebruikt kunnen worden, zoals het kruisen van de onderarmen in een X om bijvoorbeeld een actie te annuleren. Bij gebruikerstesten met een kinesist zijn verschillende prototypes ge\"evalueerd die berusten op elementen van beide types.\\

Bij de uitwerking van dit prototype ligt de nadruk op een interface die de acties van de gebruiker koppelt aan de functies van de interactieve elementen. Met andere woorden is het de bedoeling dat interactie met deze elementen gebeurt op de manier die de gebruiker verwacht. Zo bewegen ze met dezelfde snelheid waarmee de gebruiker zijn hand beweegt over een element en reageren ze op interacties door bijvoorbeeld van kleur te veranderen. Daarnaast reageert de interface, perceptueel gezien, onmiddellijk op gebruikersinteractie met grafische elementen en geeft de gebruiker hierover feedback.\\

Het ge\"implementeerde prototype van de OmniPlay is ge\"evalueerd door middel van een gebruikerstest. De focus van deze test ligt op het gebruiken van de OmniPlay-applicatie om bewegingen op te nemen, opnames te herbekijken en spellen te spelen, gebruik makende van opgenomen bewegingen. De test maakt duidelijk dat interactie met de verschillende grafische elementen niet altijd natuurlijk aanvoelt. Zo is het bijvoorbeeld wel duidelijk dat de gebruiker aan een koord kan trekken ter hoogte van het handvat, maar niet dat het nodig is om de hand te sluiten om zo het effect van het vastgrijpen na te bootsen. Er is echter beperkte toelichting nodig om er zelf achter te komen hoe het mogelijk is om met de grafische elementen te interageren. Nadat de gebruiker dit eenmaal zelf heeft gevonden, is de benodigde tijd voor dezelfde interactie herleid tot een minimum. Om dit initi\"ele leerproces te versnellen, is het mogelijk om de gebruiker een korte uitleg aan te bieden over manier waarop er interactie mogelijk is met de verschillende elementen. Verder toont de kinesist interesse in het gebruiken van de OmniPlay in de praktijk en ziet hij eveneens andere mogelijkheden die deze applicatie biedt, zoals het gebruik van gebarenherkenning bij kinderen met auditieve beperkingen of een interface voor de OmniPlay die gericht is op het gebruik door kinderen.\\

Het resultaat van deze thesis is een applicatie die toelaat om bewegingen op te nemen en deze te gebruiken om met een bestaand programma of spel te interageren. De OmniPlay werkt onafhankelijk van zowel de gekozen bewegingen als de toepassing die zij aanstuurt met deze bewegingen. Dit maakt het mogelijk voor de kinesist om voor de pati\"ent relevante bewegingen op te nemen. Opnemen is mogelijk via interactie met grafische elementen. Deze elementen communiceren aan de kinesist middels feedforward hoe deze interactie kan plaatsvinden. Er is een leerproces tijdens de initi\"ele interactie met de interface, maar door het gebruiken van elementen die in het dagelijks leven kunnen voorkomen is het mogelijk om na enkele pogingen zelf te achterhalen hoe deze interactie mogelijk is. Door een minimum aan verschillende interactieve elementen, is het mogelijk voor de kinesist om na het opnemen van een beweging reeds vertrouwd te zijn met deze elementen en kan hij de OmniPlay autonoom en zonder verdere toelichting gebruiken.
